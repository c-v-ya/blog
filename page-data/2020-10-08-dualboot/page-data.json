{"componentChunkName":"component---src-templates-post-template-js","path":"/2020-10-08-dualboot","result":{"data":{"markdownRemark":{"frontmatter":{"date":"October 08, 2020","title":"About dualboot Arch + Win","path":"/2020-10-08-dualboot","description":"Things to do after installing OSes","tags":"arch, win, os, dualboot"},"html":"<p><em>Photo by</em> <a href=\"https://unsplash.com/@chuklanov?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\"><em>Avel Chuklanov</em></a> <em>on</em> <a href=\"https://unsplash.com/?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\"><em>Unsplash</em></a></p>\n<h1>Idea</h1>\n<p>Below are just things to remember and do when installing two OS'es. Because I'm always forgetting something and then thinking \"I should've written this down as a step-by-step guide\" ðŸ˜Œ.</p>\n<h2>Order matters</h2>\n<p>Always install Windows first, and then Arch. That way Win will create a boot partition and other stuff it needs. So when installing Arch you just need to create partitions for <code class=\"language-text\">/</code> and <code class=\"language-text\">/home</code>.</p>\n<h1>Windows stuff</h1>\n<h2>Separate drives</h2>\n<p>Yes, drives <code class=\"language-text\">C:</code> and <code class=\"language-text\">D:</code> is a salvation. That way you can keep games, downloads, documents, etc. when reinstalling Win. So just do that and install Windows on drive <code class=\"language-text\">C:</code>. And <code class=\"language-text\">D:</code> will be the \"storage\".</p>\n<h2>UTC time</h2>\n<p>Just do this to spare yourself from thinking \"Why the Windows time is X hours behind/ahead?\".</p>\n<ul>\n<li>run <code class=\"language-text\">regedit</code></li>\n<li>navigate to <code class=\"language-text\">HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Control\\TimeZoneInformation</code></li>\n<li>create new DWORD (32-bit) value named <code class=\"language-text\">RealTimeIsUniversal</code></li>\n<li>set this value to <code class=\"language-text\">1</code></li>\n</ul>\n<h2>Disable fastboot</h2>\n<p>It just messes with linux for some reason. So <code class=\"language-text\">Settings</code> > <code class=\"language-text\">Power</code> > <code class=\"language-text\">Advanced (or w/e) params</code> > <code class=\"language-text\">Power button actions</code> > Click on <code class=\"language-text\">Change params</code> > Uncheck <code class=\"language-text\">Enable fast boot (recommended)</code>.</p>\n<h2>The case for reinstalling Windows</h2>\n<p>Before installing do all of the above, obviously. But when you reformat drive <code class=\"language-text\">C:</code> and try to install in that partition it will say something like \"Not enough space on main partition\". So you need to reformat <code class=\"language-text\">boot</code> partition too. Yes, it will wipe Arch bootloader but that is easy to restore.</p>\n<h3>Restoring Arch bootloader [<a href=\"https://wiki.archlinux.org/index.php/REFInd\">rEFInd</a>]</h3>\n<p>Boot with a live cd/usb and mount <code class=\"language-text\">/</code> to <code class=\"language-text\">/mnt</code> and <code class=\"language-text\">/boot</code> to <code class=\"language-text\">/mnt/boot</code>. Then <code class=\"language-text\">arch-chroot</code> in <code class=\"language-text\">/mnt</code> and install <code class=\"language-text\">linux</code> package. Then just <code class=\"language-text\">refind-install</code>, and edit <code class=\"language-text\">/boot/EFI/refind.conf</code>. Delete unnecessary lines and change <code class=\"language-text\">ro</code> to <code class=\"language-text\">rw</code>.</p>\n<p>Maybe, after booting change refind theme.</p>\n<h1>Arch stuff</h1>\n<h2>Partitioning</h2>\n<p>Set EFI partition created by Win as <code class=\"language-text\">/boot</code> when creating new table. And create separate partition for <code class=\"language-text\">/home</code>, just like drives <code class=\"language-text\">C:</code> and <code class=\"language-text\">D:</code> for Win. That's pretty much it.</p>\n<h2><code class=\"language-text\">D:</code> aka Storage</h2>\n<p>When generating <code class=\"language-text\">fstab</code> don't forget to add Windows' drive <code class=\"language-text\">D:</code>, for example as a <code class=\"language-text\">/storage</code>.</p>\n<h2>Installation</h2>\n<p>Just follow the <a href=\"https://wiki.archlinux.org/index.php/Installation_guide\">official wiki</a> and you're good ðŸ˜‰</p>","timeToRead":2},"file":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUDBAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAAGFhnrAsyFYh//EABoQAQEAAgMAAAAAAAAAAAAAAAECAxEABBP/2gAIAQEAAQUCSceTMx5z1oqRebdTdB//xAAWEQEBAQAAAAAAAAAAAAAAAAAAAiH/2gAIAQMBAT8Blr//xAAWEQEBAQAAAAAAAAAAAAAAAAAAAiH/2gAIAQIBAT8Bpj//xAAcEAACAgIDAAAAAAAAAAAAAAAAAREhAhASInH/2gAIAQEABj8CWC9s6UJ8kTOqZ//EABoQAAMBAQEBAAAAAAAAAAAAAAABESFhMVH/2gAIAQEAAT8hmw1nDgt4MR9Z8pdpR5bg/KCp/9oADAMBAAIAAwAAABCoz//EABYRAQEBAAAAAAAAAAAAAAAAAAERAP/aAAgBAwEBPxAErlvf/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARMf/aAAgBAgEBPxAvCDF//8QAHBABAQACAgMAAAAAAAAAAAAAAREAITFBUYGh/9oACAEBAAE/EAZvoQQm0defeBHadEZMT7UiH0bzi7I9qtXH3aMdPsQDP//Z","aspectRatio":1.7777777777777777,"src":"/blog/static/04ffe0dc24171810d2cbfcfc0dee351a/68386/avel-chuklanov-ZEiqbaQhmvE-unsplash.jpg","srcSet":"/blog/static/04ffe0dc24171810d2cbfcfc0dee351a/474e4/avel-chuklanov-ZEiqbaQhmvE-unsplash.jpg 320w,\n/blog/static/04ffe0dc24171810d2cbfcfc0dee351a/3bf7d/avel-chuklanov-ZEiqbaQhmvE-unsplash.jpg 640w,\n/blog/static/04ffe0dc24171810d2cbfcfc0dee351a/68386/avel-chuklanov-ZEiqbaQhmvE-unsplash.jpg 1280w,\n/blog/static/04ffe0dc24171810d2cbfcfc0dee351a/097fa/avel-chuklanov-ZEiqbaQhmvE-unsplash.jpg 1920w","sizes":"(max-width: 1280px) 100vw, 1280px"}}}},"pageContext":{"imagePath":"avel-chuklanov-ZEiqbaQhmvE-unsplash.jpg","prev":{"frontmatter":{"path":"/2020-12-25-dockerizing","title":"Dockerizing stuff you need","date":"December 25, 2020","author":"Constantine Yarushkin","description":"Fast set up for local development","image":"dominik-luckmann-SInhLTQouEk-unsplash.jpg","tags":"docker"}},"next":{"frontmatter":{"path":"/2020-08-05-time-left","title":"Simple React app to track time","date":"August 05, 2020","author":"Constantine Yarushkin","description":"My first live useful React app","image":"aron-visuals-BXOXnQ26B7o-unsplash.jpg","tags":"showdev, react, beginners"}}}}}